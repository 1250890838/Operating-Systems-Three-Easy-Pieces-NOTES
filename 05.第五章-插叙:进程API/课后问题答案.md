1.编写一个调用fork()的程序。在调用之前,让主进程访问一个变量(例如x)并将其值设置为某个值(例如100)。子进程中的变量有什么值?当子进程和父进程都改变x的值时,变量会发生什么?

答:
子进程父进程各自一份x变量,修改互不影响

2 .编写一个打开文件的程序(使用open系统调用),然后调用fork创建一个新进程。子进程和父进程都可以访问open()返回的文件描述符吗?当它们并发(即同时)写入文件时,会发生什么?

答:
不能同时使用fd,并发写入时只有一个进程会写入成功

3.使用fork()编写另一个程序。子进程应打印“hello”,父进程应打印“goodbye”你应该尝试确保子进程始终先打印。你能否不在父进程调用wait()而做到这一点呢?

答:
见`3.c`

4.编写一个调用fork()的程序,然后调用某种形式的exec()来运行程序"/bin/ls"看看是否可以尝试exec的所有变体,包括 execl()、 execle()、 execlp()、 execv()、 execvp()和 execve(),为什么同样的基本调用会有这么多变种？

答:
exec多个变体提供不同的功能,

在exec函数族中，后缀l、v、p、e添加到exec后，所指定的函数将具有某种操作能力：

- l: 希望接收以都好分隔的参数列表,列表以NULL指针作为结束标志
- v: 希望接收一个以NULL结尾字符串数组的指针
- p: 是一个以NULL结尾的字符串数组指针,函数可以利用DOS的PATH变量查找自程序文件
- e 函数传递指定采纳数envp(环境变量),允许改变子进程环境,无后缀e是,子进程使用当前程序环境
- c语言没有默认参数语法,只能实现多个变体


5.现在编写一个程序，在父进程中使用wait(),等待子进程完成。wait()返回什么？如果你在子进程中使用wait()会发生什么？

答:

wait成功返回子进程id,执行失败返回-1

子进程调用wait,执行失败,返回-1

6.对前一个程序稍作修改，这次使用waitpid()而不是wait().什么时候waitpid()会有用？

答:

7.编写一个创建子进程的程序，然后在子进程中关闭标准输出（STDOUT_FILENO).如果子进程在关闭描述符后调用printf()打印输出，会发生什么？

答:

waitpid提供更多操作,比如提供非阻塞版本wait

printf不会打印到控制台

8.编写一个程序，创建两个子进程，并使用pipe()系统调用，将一个子进程的标准输出连接到另一个子进程的标准输入。

答:
见`8.c`
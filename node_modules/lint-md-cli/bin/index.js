#!/usr/bin/env node
"use strict";

require('babel-polyfill');

var program = require('commander');

var Lint = require('./Lint');

var Fix = require('./Fix');

var configure = require('./helper/configure');

program.version("0.1.2", '-v, --version').usage('<lint-md> <files...> [options]').description('lint your markdown files').option('-c, --config [configure-file]', 'use the configure file, default .lintmdrc').option('-f, --fix', 'fix the errors automatically').arguments('<files...>').action(function (files, cmd) {
  var config = configure(cmd.config);
  var fix = cmd.fix;

  if (fix) {
    new Fix(files, config);
  } else {
    new Lint(files, config);
  }
});
program.parse(process.argv);

if (!program.args.length) {
  program.help();
}